import"./modulepreload-polyfill-3cfb730f.js";function m(e){let c,d,l,n,r=[],s,h=0;e.setup=function(){console.log("Setup test"),e.createCanvas(e.windowWidth,e.windowHeight,e.WEBGL),l=e.width+10,n=e.height,c=l/10,d=n/10+1,s=e.createCapture(e.VIDEO),s.id("myCapture");for(let i=0;i<c;i++){r[i]=[];for(let t=0;t<d;t++)r[i][t]=0}},e.draw=function(){console.log("Draw test"),s.size(l/10,n/10),e.background(255),s.loadPixels(),h-=.03;let i=h;for(let t=0;t<d-1;t++){let o=0;for(let a=0;a<c;a++){const w=(a+t*s.width)*4,f=s.pixels[w],g=s.pixels[w+1],u=s.pixels[w+2],x=(f+g+u)/3;r[a][t]=e.map(x,0,255,-50,100)+e.map(e.noise(o,i),0,1,-50,50),o+=.1}i+=.1}e.translate(-l/2,-n/3,-200),e.rotateX(e.map(e.mouseY,0,e.height,e.PI/2,-e.PI/8)),e.noFill(),e.stroke(0);for(let t=0;t<d-3;t++){e.beginShape(e.TRIANGLE_STRIP);for(let o=0;o<c;o++)e.vertex(o*10,t*10,r[o][t]),e.vertex(o*10,(t+1)*10,r[o][t+1]);e.endShape()}},e.windowResized=function(){e.resizeCanvas(e.windowWidth,e.windowHeight),l=e.windowWidth+10,n=e.windowHeight,c=l/10,d=n/10+1,s.size(l/10,n/10)}}document.addEventListener("DOMContentLoaded",()=>{new p5(m,document.getElementById("p5-sketch"))});
